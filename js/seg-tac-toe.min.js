/*

  Seg-Tac-Toe
    by John "Seg" Seggerson
    http://theseg.github.io/

*/

var playField = {
    "width":3,
    "height":3,
};

var gamePlayStatusTypes = {
	"inprogress":0,
	"winner":1,
	"draw":2,
};

var playerProps = {
    "X": {
        "shortname": "X",
        "faIconClass": "icon-remove-circle",
		"cellClass": "input-claimed-x",
    },
    "O": {
        "shortname": "O",
        "faIconClass": "icon-circle-blank",
		"cellClass": "input-claimed-o",
    }
};

var initalStatus = {
	"currentPlayer":"X",
	"gamePlayStatus":gamePlayStatusTypes.inprogress,
};

var currentStatus = initalStatus;

function sttResetVars() {
	currentStatus = initalStatus;
}

function sttInitVars() {
	sttResetVars();
}


/* **********************************************
     Begin stt-logic.js
********************************************** */

/*

  Seg-Tac-Toe
    by John "Seg" Seggerson
    http://theseg.github.io/

*/

function MainLogic() {
    console.log("MainLogic();");
}

function sttGetWinStatus() {
	console.log("sttGetWinStatus();");
	
	// Variable declars
	var doEval = false;
	var returnVar = {
		"state":0,
		"winner":null
	};
	
	// Does any one player have more than three owned squares? If so, we can eval.
	for ( var targetPlayer in playerProps ) {
		if ( $("."+playerProps[targetPlayer].cellClass).length >= 3 ) {
			doEval = true;
		}
	}
	
	// May we evaluate?
	if ( doEval === true ) {
		console.log( "\tOne more more players has 3+ squares." );
		
		
		
		
	} else {
		console.log( "\tNo player has enough squares yet." );
	}
	
	return returnVar;
}

function sttGameStateToString() {
	var currentState = sttGetWinStatus();
	var returnString;
	
	switch( currentState.state )
	{
		case 0:
			returnString = "Game is still in progress.";
			break;
		case 1:
			returnString = "Game was won by player "+currentState.winner+"!";
			break;
		case 2:
			returnString = "Game has ended in a draw.";
			break;
		default:
			returnString = "Game is still in progress.";
	}
	
	return returnString;
}

function sttResetLogic() {
	
}

function sttInitLogic() {
	
}



/* **********************************************
     Begin stt-ui.js
********************************************** */

/*

  Seg-Tac-Toe
    by John "Seg" Seggerson
    http://theseg.github.io/

*/

function sttInitUI() {
	console.log("sttInitUI();");
}

function sttResetUI() {
	console.log("sttResetUI();");
}

function sttUIMarkcell( targetCell , targetPlayer ) {
	console.log( "sttUIMarkcell( "+ targetCell + " , "+ targetPlayer +" );" );
	
	// Check to make sure square isn't already assigned.
	
	// Assign player's CSS class to target element.
	targetCell.addClass(playerProps[targetPlayer].cellClass);
	
}

/* **********************************************
     Begin seg-tac-toe.js
********************************************** */

/*

  Seg-Tac-Toe
    by John "Seg" Seggerson
    http://theseg.github.io/

*/

// @codekit-prepend "stt-vars.js";
// @codekit-prepend "stt-logic.js";
// @codekit-prepend "stt-ui.js";


function sttInit() {
	sttInitVars();
	sttInitLogic();
	sttInitUI();
}

function sttReset() {
	sttResetVars();
	sttResetLogic();
	sttResetUI();
}

$( document ).ready(function() {
    console.log("document.ready");
	sttUIMarkcell($("#stt-main-cell-0-0"),"X");
	sttUIMarkcell($("#stt-main-cell-0-1"),"O");
	sttUIMarkcell($("#stt-main-cell-1-1"),"X");
	sttUIMarkcell($("#stt-main-cell-2-0"),"O");
	sttUIMarkcell($("#stt-main-cell-2-2"),"X");
	//sttUIMarkcell($("#stt-main-cell-0-2"),"O");
	console.log( sttGameStateToString() );
});
